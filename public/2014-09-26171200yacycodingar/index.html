<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.37.1" />
  <title> &middot; Yacy Old Forum Archiv</title>
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">
  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->
  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/css/side-menu.css">
  <!--<![endif]-->
  <link rel="stylesheet" href="/css/blackburn.css">
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
  
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
  
  
</head>
<body>
<div id="layout">
  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">
  
  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
    </ul>
  </div>
  <div class="pure-menu social">
  <ul class="pure-menu-list">
    
    
    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/http://twitter.com/yacy_search" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/yacy" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>
  <div>
  <div class="small-print">
    <small></small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>
</div>
  <div id="main">
<div class="header">
  <h1></h1>
  <h2></h2>
</div>
<div class="content">
  
<h1 id="yacy-coding-architektur-re-ipv6">YaCy Coding &amp; Architektur • Re: IPv6</h1>
<p>Date: 2014-09-26 17:12:00</p>
<p>Hallo,<br />
</p>
<blockquote>
<div>
Orbiter hat geschrieben:\
die sind aber merkwürdigerweise auch public\
</div>
</blockquote>
<p>Dann nimm doch einfach irgendeine oder alle. Wenn es echte öffentliche
global routbare Unicast-IP-Adressen sind dann sollte dein PC auch aus
dem Internet mit diesen IP-Adressen ansprechbar sein. Ping die doch
einfach mal aus dem Internet an oder schick mir ne PN ich mach gerne
einen kurzen Scan o.ä.<br />
</p>
<blockquote>
<div>
Orbiter hat geschrieben:\
Wenn ich von Java aus nach den eigenen IP-Adressen frage, bekomme ich
drei: die beiden Netzwerkadressen die per Bonding zu einer virtuellen
gebündelt werden.\
</div>
</blockquote>
<p>Wie kann man Netzwerkadressen [bündeln]{style=&ldquo;font-style: italic&rdquo;}?
Egal. Drei IP-Adressen sind bei drei Netzwerk-Interfaces eigentlich zu
wenige, es sei denn Du meinst nur die globalen und hast keine
Privacy-Extensions aktiv. Für erste Tests ist das Abschalten der
Privacy-Extensions sicher von Vorteil aber später muss YaCy auch damit
zurechtkommen.<br />
</p>
<blockquote>
<div>
Orbiter hat geschrieben:\
Wir haben früher einfach Java die Eigenschaft isLocalIP testen lassen,
da gab es dann aber merkwürdigerweise von Java aus DNS Abfragen die
darüberhinaus auch noch nicht concurrencyfähig waren.\
</div>
</blockquote>
<p>Ach ja richtig, die Klasse InetAddress hat so ihre Macken. Ich hab vor
fast 10 Jahren mal eine Art virtuellen Switch für einen proprietären
Hausautomatisierungsbus auf IP/Ethernet-Basis entwickelt, was auch sowas
ähnliches wie ein Peer-to-Peer-Netzwerk ist, und dazu ein
Management-Tool in Java programmiert das Teil dieses virtuellen Switch
sein sollte und dabei auch massive Probleme mit dieser Klasse gehabt.
Eine meiner Schwierigkeiten war das es keine Ableitung gibt die nur dazu
dient einen Host-Namen aufzunehmen ohne gleich eine IP-Adresse daraus zu
machen, als Lösung habe ich damals eine eigene Container-Klasse für
IP-Adressen und Host-Namen gebaut. Es war auch eine Ableitung für IPv6
mit dabei aber ich denke die war nicht richtig funktionsfähig mangels
Verfügbarkeit von IPv6 (das lieft damals noch unter Windows 2000). Wenn
Du möchtest such ich den Code mal raus und mache die IPv6-Ableitung fit
und schick Dir das zu. Ich bin mir ziemlich sicher das die Methoden
isLoopback() und isGlobalUnicast() zuverlässig funktionierten.<br />
</p>
<blockquote>
<div>
Orbiter hat geschrieben:\
Wir haben dann mit regulären Ausdrücken vorher getestet ob eine IP
ggf. eine Localhost-Adresse ist\
</div>
</blockquote>
<p>Reguläre Ausdrücke kannst Du für IPv6 komplett vergessen, \&rdquo;::1\&rdquo; ,
\&ldquo;0:0:0:0:0:0:0:1\&rdquo; , \&ldquo;0000:0000:0000:0000:0000:0000:0000:0001\&rdquo; ,
\&ldquo;0000::0001\&rdquo; , \&ldquo;0000:0000::0000:0001\&rdquo; , \&ldquo;0000:0:0:0000::1\&rdquo; ,
\&ldquo;0000:0:0:0:0:0:0:0001\&rdquo; usw. sind alles gültige Schreibweisen für die
selbe IP-Adresse. Spätestens im Eingabefeld für die \&ldquo;statische IP\&rdquo;
erwarten die User IP-Adressen so eintragen zu können wie sie ihnen
vorliegen und da wirst Du mit regulären Ausdrücken nicht sehr weit
kommen. IP-Adressen als String zu verarbeiten ist keine gute Idee.<br />
</p>
<blockquote>
<div>
Orbiter hat geschrieben:\
nein eine Teilung mache ich nicht.\
</div>
</blockquote>
<p>Das beruhigt mich.<br />
</p>
<blockquote>
<div>
Orbiter hat geschrieben:\
Ich erweitere gerade das Protokoll\
</div>
</blockquote>
<p>Dokumentierst Du das irgendwo oder könntest Du hier im Thread ein paar
kurze Zeilen dazu schreiben? Ich würde mein Analyse-Tool gerne so bald
als möglich anpassen um den Start von IPv6 im YaCy-Netzwerk möglichst
live miterleben zu können.<br />
</p>
<blockquote>
<div>
Orbiter hat geschrieben:\
und da wird es dann möglich sein mehrere IP-Adressen an einem Peer zu
haben, z.B. eine IPv4 und eine IPv6 oder auch mehrere IPv6. Ich
versuche hier mal kleine Schritte, den bisherigen Feldern weise ich
erst mal nur IPv4 Adressen zu um keine Katastrophe auszulösen.\
</div>
</blockquote>
<p>Wenn Du schon am Format der Seed-Liste arbeitest solltest Du das Feld
\&ldquo;Address\&rdquo; meiner persönlichen Meinung nach komplett einstampfen, das
ist redundant, dafür wäre ein Feld mit der SSL-Port-Nummer recht
interessant. Das Feld \&ldquo;IP\&rdquo; auch weiterhin nur für eine einzelne
IPv4-Adresse oder einen einzelnen Host-Namen zu benutzen halte ich auch
für geschickt aber das bedeutet das dieses Feld für Peers die keine
echte IPv4-Konectivität mehr haben (so wie Dein PC) leer bleiben wird.
Ich hatte das vorhin zwar noch als Bug betrachtet aber vielleicht ist es
von Vorteil das die heute laufenden Peers bereits mit sowas umgehen
können.<br />
</p>
<blockquote>
<div>
Orbiter hat geschrieben:\
und die Adresse wo eine Antwort kommt geht dann wieder als Antwort von
\'hello.html\' zurück an den anpingenden Peer.\
</div>
</blockquote>
<p>vielleicht sollte der angepingte Peer nach dem ersten erfolgreichen
Back-Ping zum pingenden Peer kurz warten ob noch andere Back-Pings
ebenfalls erfolgreich sind und dann alle erfolgreichen IP-Adressen
zurückmelden.<br />
Aber auch der pingende Peer muss genau wählen welche IP-Adressen er dem
angepingten Peer als potentielle Back-Ping-Adressen übermittelt. Wenn
die Privacy-Extensions eingeschaltet sind sollte immer nur die jeweils
aktuellste IP-Adresse pro Interface propagiert werden damit die älteren
IP-Adressen auch wirklich auslaufen können.<br />
</p>
<blockquote>
<div>
Orbiter hat geschrieben:\
Das macht ja Hoffnung dass mit IPv6 wir weniger junior Peers haben die
dann Senior werden\
</div>
</blockquote>
<p>Ja, das ist der große Vorteil von IPv6, es herrscht keine
Adressknappheit mehr. Das jeder PC dann aber wieder aus dem Internet
direkt ansprechbar ist hat aber auch Schattenseiten, ich wette die
Viren- und Wurm-Programmierer freuen sich schon drauf wenn wieder jede
Windows-Kiste direkt im öffentlichen Internet präsent ist.<br />
</p>
<blockquote>
<div>
Orbiter hat geschrieben:\
Das neue UPnP scheint sich auch mit meiner Fritzbox zu vertragen, da
kommen ganz anständige Logmeldungen raus. Ich muss auch mal probieren
das UPnP zuzulassen, mal schauen was dann passiert.\
</div>
</blockquote>
<p>Ich wusste gar nicht das bei IPv6 UPnP noch zur Router-Konfiguration
benutzt werden kann. Meines Wissens nach sollte bei IPv6 das
Port-Controll-Protocol benutzt werden um z.B. Ports in Firewalls zu
öffnen. Beim Design von PCP wurde jedenfalls IPv6 explizit mit
berücksichtigt.<br />
<br />
Grüße<br />
Erik</p>
<p>Statistik: Verfasst von
<a href="http://forum.yacy-websuche.de/memberlist.php?mode=viewprofile&amp;u=9480">Erik_S</a>
&mdash; Fr Sep 26, 2014 4:12 pm</p>
<hr />
</div>
</div>
</div>
<script src="js/ui.js"></script>
</body>
</html>
