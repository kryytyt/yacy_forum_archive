<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.37.1" />

  <title> &middot; Yacy Old Forum Archiv</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

 
  

  

  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  

  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/http://twitter.com/yacy_search" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/yacy" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small></small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1></h1>
  <h2></h2>
</div>
<div class="content">
  

<h1 id="solr-support-re-map-failed">Solr Support • Re: Map Failed</h1>

<p>Date: 2013-01-21 18:15:09</p>

<p>Ui!</p>

<blockquote>
<div>

sixcooler hat geschrieben:\
Nach langem Probieren stellte ich fest das die Änderung in der
solrconfig die Ursache waren.\

Code: 
:   `<directoryFactory name="DirectoryFactory" class="${solr.directoryFactory:solr.MMapDirectoryFactory}"/>`

\
Das benötigt weiteren Virtuellen Speicher.\
Was normalerweise kein Problem ist - nur dieser Peer ist noch ein
32Bitter und da ist das halt Mangelware.\
\
Auch in der Quelle zu dieser Änderung
<https://issues.apache.org/jira/browse/SOLR-2247> ist erwähnt das es
nur mit 64bit-JVMs läuft.\
\
Wer also ebenfalls noch 32Bitter einsetzt sollte mal probieren

Code: 
:   `<directoryFactory name="DirectoryFactory" class="${solr.directoryFactory:solr.NRTCachingDirectoryFactory}"/>`

zu nutzen.\

</div>
</blockquote>

<p><br />
ich hab dazu auch noch einen super Artikel gefunden:
<a href="http://blog.thetaphi.de/2012/07/use-lucenes-mmapdirectory-on-64bit.html">http://blog.thetaphi.de/2012/07/use-luc ...
64bit.html</a>{.postlink}<br />
Da drin ist erklärt dass man mit der MMapDirectoryFactory den Heap für
Java möglichst [klein]{style=&ldquo;font-style: italic&rdquo;} stellen sollte! Das
erklärt dann auch einige Probleme die wir hatten wenn der Heap wohl zu
großzügig war...<br />
Also habe ich die Änderung wieder rückgängig gemacht, den
NRTCachingDirectoryFactory wieder reingeschrieben aber in das
startYACY.sh einen Test auf 64 bit gemacht der dann eine Systemvariable
setzt um die MMapDirectoryFactory wieder zu aktivieren. Bin gespannt ob
das klappt...<br />
</p>

<blockquote>
<div>

sixcooler hat geschrieben:\
\@Orbiter: Deine Änderungen zu \'ramBufferSizeMB\' und \'mergeFactor\'
in der solrconfig sind auskommentiert - ist das so gewollt?\

</div>
</blockquote>

<p><br />
Oh je das ist wohl dann schon aufkommende Senilität. Hab den Merge
Factor nun auskommentiert aber die ramBufferSizeMB wieder rückgängig
gemacht bzw. auskommentiert gelassen weil diese Größe für embedded Dinge
wie beim RPi zu groß sind.<br />
Mal schauen wie es jetzt läuft.</p>

<p>Statistik: Verfasst von
<a href="http://forum.yacy-websuche.de/memberlist.php?mode=viewprofile&amp;u=2">Orbiter</a>
&mdash; Mo Jan 21, 2013 6:15 pm</p>

<hr />

</div>

</div>
</div>
<script src="js/ui.js"></script>






</body>
</html>

