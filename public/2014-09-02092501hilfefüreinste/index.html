<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.37.1" />
  <title> &middot; Yacy Old Forum Archiv</title>
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">
  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->
  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/css/side-menu.css">
  <!--<![endif]-->
  <link rel="stylesheet" href="/css/blackburn.css">
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
  
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
  
  
</head>
<body>
<div id="layout">
  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">
  
  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
    </ul>
  </div>
  <div class="pure-menu social">
  <ul class="pure-menu-list">
    
    
    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/http://twitter.com/yacy_search" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/yacy" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>
  <div>
  <div class="small-print">
    <small></small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>
</div>
  <div id="main">
<div class="header">
  <h1></h1>
  <h2></h2>
</div>
<div class="content">
  
<h1 id="hilfe-für-einsteiger-und-anwender-re-funktionsweise-unklar">Hilfe für Einsteiger und Anwender • Re: Funktionsweise unklar</h1>
<p>Date: 2014-09-02 09:25:01</p>
<blockquote>
<div>
Erik\_S hat geschrieben:\
Kommt yacy auch mit großen Blacklists (mehr als 10\'000\'000 Einträge)
zurecht?\
</div>
</blockquote>
<p><br />
<br />
YaCy lädt beim Start die Blacklists in eine interne Datenstruktur, um
die Daten dann bei Bedarf (wenn URLs gecheckt werden) schnell zur
Verfügung zu haben. Ob diese Datenstruktur für so große Listen wie von
die Nachgefragt skaliert, weiß ich nicht. Ich sehe da zwei mögliche
Probleme:<br />
</p>
<ul>
<li>Da alle Daten im RAM gehalten werden, muss man YaCy (bzw. der Java
Virtual Machine) auch entsprechend viel Speicher zuweisen. Das ist
halt eine Sache der Maschine, auf der YaCy läuft, ob da genug
Speicher vorhanden ist oder eben nicht.</li>
<li><p>Bei der Datenstruktur handelt es sich, wenn ich das richtig in
Erinnerung habe, um eine Map, bei der der Domain-Teil der URLs der
Key ist und die Pfade die Values. Mir fallen für die Betrachtung der
Performance drei Klassen ein:</p>
<ul>
<li>Alle Einträge in der Blacklist haben unterschiedlich
Domain-Teile. Dann muss im schlimmsten Fall bei der Überprüfung
einmal über die gesamte Key-Menge iteriert werden.</li>
<li>Es gibt nur einen Domain-Teil, aber sehr viele Pfad-Teile. Dann
muss im schlimmsten Fall über alle Values iteriert werden, aber
nur, wenn der Domain-Teil auch mit dem der zu überprüfenden URLs
übereinstimmt.</li>
<li>Alles zwischen diesen beiden Extremen.</li>
</ul>
<p>Sollte sich herausstellen, dass die derzeitige Datenstruktur für so
große Listen nicht geeignet ist, solche Listen aber tatsächlich
benutzt werden, sollte es mit vertretbarem Aufwand möglich sein, die
Datenstruktur zu tauschen. Ich glaube, es gibt da ein vernünftiges
Interface, das halt neu implementiert werden müsste. Ich befürchte
aber, dass eine für die Performance günstigere Implementierung dazu
führt, dass mehr RAM benötigt wird.</p></li>
</ul>
<p></p>
<blockquote>
<div>
Erik\_S hat geschrieben:\
Kann man eine neue Blacklist auch unterschieben ohne yacy
beenden/neustarten zu müssen?\
</div>
</blockquote>
<p><br />
<br />
Man müsste die Daten in ein für YaCy lesbares Format umwandeln und
könnte sie dann über <a href="http://localhost:8090/BlacklistImpExp_p.html">http://localhost:8090/BlacklistImpExp_p.html</a>
importieren. Das ursprüngliche Format sind reine Textdateien mit einem
Eintrag pro Zeile, so wie sie auch im DATA/LOG-Verzeichnis liegen. Ich
habe mir irgendwann mal ein XML-Format ausgedacht, das ich nirgends
richtig dokumentiert habe, das aber rechte einfach gehalten ist. Es
enthält noch ein paar Informationen mehr als das reine Textdokument.
Wenn du auf der o.g. Seite eine Blacklist nach XML exportierst, müsste
da eigentlich alles zu sehen sein, was das Format hergibt.<br />
<br />
Wenn du Daten per Skript hinzufügen willst, kannst du das über eine
REST-Schnittstelle machen, die ich kürzlich eingebaut habe. Die
Schnittstelle ist im Wiki noch nicht richtig dokumentiert, aber hier im
Forum ist das Wichtigste zu finden:
<a href="http://forum.yacy-websuche.de/viewtopic.php?f=8&amp;t=5131#p29967">viewtopic.php?f=8&amp;t=5131#p29967</a>{.postlink-local}<br />
<br />
edit: Ich habe eben gesehen, dass der Export in eine Textdatei (bei mir)
teilweise nicht mehr funktioniert. Ich habe ein Ticket im
<a href="http://mantis.tokeek.de/view.php?id=453/">Bugtracker</a>{.postlink}
aufgemacht.</p>
<p>Statistik: Verfasst von
<a href="http://forum.yacy-websuche.de/memberlist.php?mode=viewprofile&amp;u=62">Low012</a>
&mdash; Di Sep 02, 2014 8:25 am</p>
<hr />
</div>
</div>
</div>
<script src="js/ui.js"></script>
</body>
</html>
