<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.37.1" />
  <title> &middot; Yacy Old Forum Archiv</title>
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">
  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->
  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/css/side-menu.css">
  <!--<![endif]-->
  <link rel="stylesheet" href="/css/blackburn.css">
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
  
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
  
  
</head>
<body>
<div id="layout">
  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">
  
  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
    </ul>
  </div>
  <div class="pure-menu social">
  <ul class="pure-menu-list">
    
    
    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/http://twitter.com/yacy_search" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/yacy" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>
  <div>
  <div class="small-print">
    <small></small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>
</div>
  <div id="main">
<div class="header">
  <h1></h1>
  <h2></h2>
</div>
<div class="content">
  
<h1 id="bei-dem-meltdown-bug-ist-mir-gerade-was-aufgefallen">Bei dem Meltdown-Bug ist mir gerade was aufgefallen, ...</h1>
<p>Date: 2018-01-08 19:57:48</p>
<p>Bei dem Meltdown-Bug ist mir gerade was aufgefallen, das ich mal mit
euch teilen will.</p>
<p>Und zwar hat Intel seit Jahren in ihrem Prozessoren \&ldquo;Hyperthreading\&ldquo;,
deren Markennamen für eine Technik namens Simultaneous Multithreading
(SMT). Bei Intel bringt das so 20% Mehrleistung, wenn man einen zweiten
Thread startet und der auf dem virtuellen Core läuft. Kommt natürlich
immer auf den Code an, klar.</p>
<p>AMD hat seit Ryzen auch SMT, aber bei denen bringt das 40%. Ich habe
mich die ganze Zeit gefragt, wieso. Jetzt glaube ich, die Erklärung zu
haben.</p>
<p>Und zwar hat Intel ja, wie wir jetzt wissen, bei ihrer spekulativen
Ausführung von Instruktionen beschissen, und hat den Load vor den
Zugriffscheck vorgezogen. Der Load wird schon gemacht, wenn die CPU sich
noch nicht sicher ist, ob der Load erlaubt sein wird (die Prüfung davon
kostet auch Zeit). Wenn Intel dann feststellt, dass der Load nicht
erlaubt war, ist es nicht schlimm, wenn die Daten in den Cache geladen
wurden, denkt sich Intel. Und das lief auch jahrelang prima, bis
jemandem auffiel, dass das ein Sicherheitsproblem ist.</p>
<p>So, nehmen wir mal an, Intel hätte nicht auf diese Art für Benchmarks
beschissen. Was wäre der Effekt gewesen? Die Latenz für die
Load-Instruktionen wäre hoch gegangen. Und was macht die CPU, wenn
gerade irgendwas hängt (weil die Latenz zu hoch ist)? Sie führt per SMT
einen anderen Thread aus. Das ist die Idee von SMT.</p>
<p>Was, so frage ich mich gerade, wenn die 20% mehr SMT-Performance bei AMD
genau die 20% sind, die Intel hier durch Senken der Sicherheit
rausgeschummelt hat? AMD hat einfach ehrlich gestallt in den Fällen. Und
das geht jetzt dank SMT nicht mehr verloren.</p>
<p>Ich fühlte mich spontan an Dieselgate erinnert. :-)</p>
</div>
</div>
</div>
<script src="js/ui.js"></script>
</body>
</html>
