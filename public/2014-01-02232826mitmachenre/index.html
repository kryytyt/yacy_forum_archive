<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.37.1" />
  <title> &middot; Yacy Old Forum Archiv</title>
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">
  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->
  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/css/side-menu.css">
  <!--<![endif]-->
  <link rel="stylesheet" href="/css/blackburn.css">
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
 
  
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
  
  
</head>
<body>
<div id="layout">
  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">
  
  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
    </ul>
  </div>
  <div class="pure-menu social">
  <ul class="pure-menu-list">
    
    
    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/http://twitter.com/yacy_search" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/yacy" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>
  <div>
  <div class="small-print">
    <small></small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>
</div>
  <div id="main">
<div class="header">
  <h1></h1>
  <h2></h2>
</div>
<div class="content">
  
<h1 id="mitmachen-re-raspberry-pi">Mitmachen • Re: Raspberry Pi</h1>
<p>Date: 2014-01-02 23:28:26</p>
<p>Also ich muss wohl dieser Tage Asche (abgefackelter Feuerwerkskörper)
auf mein Haupt streuen:<br />
<br />
Seit RaspberryPi nicht mehr per Wlan am Netz hängt, läuft es
überraschend gut. RasPi2, der die Usb-Festplatte für YaCy nutzt, ist die
Tage mit Crawln über 500.000 Urls gekommen. Der RasPi1, alles auf
SD-Karte, ist bei über 200.000 Urls. Das hat im Vergleich aber nichts zu
sagen, da die Crawling-Aufgaben unterschiedlich waren und vom Inhalt
abhängig sind.<br />
<br />
Inzwischen hab ich die Crawls alle abgeschaltet und es läuft nur der
DHT-Transfer. Dessen Rate ist aber nicht zu verachten. Darüber müssen
die URLs ja nur einsortiert werden. Das scheint wenig Prozessorlast zu
benötigen.<br />
<br />
Da ich zwischenzeitlich immer versucht habe, die Versionen auf den
aktuellsten Entwicklungsversionen zu halten, können die Fortschritte
auch mit den Änderungen dort zusammenhängen. Weiß ich nicht. Aber
irgendwann früher war mir auch schon mal aufgefallen, dass Wlan beim
RasPi sehr an der Performance zehrt.<br />
<br />
Mein Hetzner VServer ist für die Tests ein interessantes
Vergleichsobjekt, da mir dort genau so wenig Ram zurVerfügung steht, wie
beim RasPi. Die Festplattensschnittstelle und der eine Prozessorkern
sind leistungsfähiger, sodass die Crawl- und URL-Zuwachsraten steiler
sind und vielleicht auch bei etwas Swappen die Performance sicher besser
ist. Aber die Index-Grenzen sollten vergleichbar sein. Folgender Wert
wird also auch für die beiden RasPis interessant: Ab um die 3Mio URLs
wurde mir das Hetznersystem instabil. Startet man den Crawl mit der Hand
mehrfach wieder, ist dann irgendwann der Speicher zu klein und es crasht
oder die Webschnittstelle reagiert nicht mehr. Durch den Proxy-Fehler
der letzten Dev-Versionen ist mir der Index recht schnell angestiegen,
ohne dass ich das anhalten konnte. Das Sicherheitsloch soll inzwischen
geschlossen wurden sein.<br />
<br />
Alles in allem müssten die RasPi also auch bis in die 2Mio URLs kommen.
Mal sehen. Ich bin gespannt.<br />
<br />
Ein Problem am Rande: Die Konfiguration des der Java-Engine zu Verfügung
stehenden Ram ist ne schwierige Sache. Für xmx wird nur der Heap in
seinem Maximum festgelegt. Java nutzt aber auch Ram, der nicht über den
Heap verwaltet wird. Und dessen Wert kommt auf den Gesamtspeicherbedarf
dazu. Für YaCy sind aus meinen Beobachtungen heraus wenigstens 150MByte
zum Heap dazuzurechnen. Mir ist unklar, ob das unabhängig von der Größe
des Index bzw. DHT ist.<br />
<br />
Soweit für heute bzgl. RasPi.<br />
<br />
Den CubieTruck hab ich bei gut 1Mio URLs angehalten. Ab jetzt soll er
sich über DHT-Transfer mit Daten füllen. Wie die beiden RasPis auch. Die
Vorgabe für den Heap habe ich trotz der zur Verfügung stehenden 2GByte
Ram vorerst auf 600MByte festgelegt. Ich will sehen, wie viel Ram nach
längerer Laufzeit tatsächlich verwendet wird und wie er auf die Grenze
reagiert. Danach schraub ich das dann langsam hoch, bis die 2 Gbyte
umfassend genutzt werden.<br />
<br />
Viele Grüße<br />
Frank</p>
<p>Statistik: Verfasst von
<a href="http://forum.yacy-websuche.de/memberlist.php?mode=viewprofile&amp;u=9031">fherb</a>
&mdash; Do Jan 02, 2014 11:28 pm</p>
<hr />
</div>
</div>
</div>
<script src="js/ui.js"></script>
</body>
</html>
