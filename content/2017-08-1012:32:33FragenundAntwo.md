Fragen und Antworten • Solr: unable to load document
====================================================

Date: 2017-08-10 12:32:33

Hallo zusammen,\
\
kennt jemand den Fehler, wenn Yacy 1.921/9309 ein paar Suchen
durchgeführt hat, danach die folgende Fehlermeldung hundertfach im Log
erscheint:\
\

Code: 
:   `W 2017/08/10 12:23:43 org.apache.solr.response.BinaryResponseWriter Error reading a field : org.apache.lucene.document.LazyDocument$LazyField@e8cf86java.lang.IllegalStateException: unable to load document        at org.apache.lucene.document.LazyDocument.getDocument(LazyDocument.java:102)        at org.apache.lucene.document.LazyDocument.fetchRealValues(LazyDocument.java:110)        at org.apache.lucene.document.LazyDocument.access$100(LazyDocument.java:41)        at org.apache.lucene.document.LazyDocument$LazyField.getRealValue(LazyDocument.java:150)        at org.apache.lucene.document.LazyDocument$LazyField.stringValue(LazyDocument.java:176)        at org.apache.solr.schema.FieldType.toExternal(FieldType.java:365)        at org.apache.solr.schema.FieldType.toObject(FieldType.java:379)        at org.apache.solr.response.DocsStreamer.getValue(DocsStreamer.java:222)        at org.apache.solr.response.BinaryResponseWriter$Resolver.resolve(BinaryResponseWriter.java:102)        at org.apache.solr.common.util.JavaBinCodec.writeVal(JavaBinCodec.java:234)        at org.apache.solr.common.util.JavaBinCodec.writeArray(JavaBinCodec.java:695)        at org.apache.solr.common.util.JavaBinCodec.writeKnownType(JavaBinCodec.java:337)        at org.apache.solr.common.util.JavaBinCodec.writeVal(JavaBinCodec.java:223)        at org.apache.solr.common.util.JavaBinCodec.writeSolrDocument(JavaBinCodec.java:492)        at org.apache.solr.response.BinaryResponseWriter$Resolver.writeResultsBody(BinaryResponseWriter.java:125)        at org.apache.solr.response.BinaryResponseWriter$Resolver.writeResults(BinaryResponseWriter.java:143)        at org.apache.solr.response.BinaryResponseWriter$Resolver.resolve(BinaryResponseWriter.java:87)        at org.apache.solr.common.util.JavaBinCodec.writeVal(JavaBinCodec.java:234)        at org.apache.solr.common.util.JavaBinCodec.writeNamedList(JavaBinCodec.java:218)        at org.apache.solr.common.util.JavaBinCodec.writeKnownType(JavaBinCodec.java:325)        at org.apache.solr.common.util.JavaBinCodec.writeVal(JavaBinCodec.java:223)        at org.apache.solr.common.util.JavaBinCodec.marshal(JavaBinCodec.java:146)        at org.apache.solr.response.BinaryResponseWriter.getParsedResponse(BinaryResponseWriter.java:163)        at org.apache.solr.client.solrj.embedded.EmbeddedSolrServer.request(EmbeddedSolrServer.java:216)        at org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:160)        at org.apache.solr.client.solrj.SolrClient.query(SolrClient.java:942)        at org.apache.solr.client.solrj.SolrClient.query(SolrClient.java:957)        at net.yacy.cora.federate.solr.connector.EmbeddedSolrConnector.getResponseByParams(EmbeddedSolrConnector.java:339)        at net.yacy.cora.federate.solr.connector.MirrorSolrConnector.getResponseByParams(MirrorSolrConnector.java:272)        at net.yacy.data.DidYouMean.getSuggestions(DidYouMean.java:255)        at net.yacy.data.DidYouMean.getSuggestions(DidYouMean.java:167)        at suggest.respond(suggest.java:71)        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)        at java.lang.reflect.Method.invoke(Method.java:498)        at net.yacy.http.servlets.YaCyDefaultServlet.invokeServlet(YaCyDefaultServlet.java:673)        at net.yacy.http.servlets.YaCyDefaultServlet.handleTemplate(YaCyDefaultServlet.java:884)        at net.yacy.http.servlets.YaCyDefaultServlet.doGet(YaCyDefaultServlet.java:315)        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:841)        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:535)        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524)        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:190)        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1595)        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:188)        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1253)        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:168)        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473)        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1564)        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:166)        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1155)        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:219)        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)        at net.yacy.http.CrashProtectionHandler.handle(CrashProtectionHandler.java:33)        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)        at org.eclipse.jetty.server.Server.handle(Server.java:564)        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:317)        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:279)        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:110)        at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:289)        at org.eclipse.jetty.io.ssl.SslConnection$3.succeeded(SslConnection.java:149)        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:110)        at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)        at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:128)        at org.eclipse.jetty.util.thread.Invocable$InvocableExecutor.invoke(Invocable.java:222)        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:294)        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:199)        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)        at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)        at java.lang.Thread.run(Thread.java:748)Caused by: java.io.IOException: null: NIOFSIndexInput(path="/mnt/cloud/yacy/yacy_search_server/DATA/INDEX/freeworld/SEGMENTS/solr_6_6/collection1/data/index/_9gw.fdt")        at org.apache.lucene.store.NIOFSDirectory$NIOFSIndexInput.readInternal(NIOFSDirectory.java:189)        at org.apache.lucene.store.BufferedIndexInput.refill(BufferedIndexInput.java:342)        at org.apache.lucene.store.BufferedIndexInput.readByte(BufferedIndexInput.java:54)        at org.apache.lucene.codecs.compressing.LZ4.decompress(LZ4.java:90)        at org.apache.lucene.codecs.compressing.CompressionMode$4.decompress(CompressionMode.java:138)        at org.apache.lucene.codecs.compressing.CompressingStoredFieldsReader$BlockState.document(CompressingStoredFieldsReader.java:520)        at org.apache.lucene.codecs.compressing.CompressingStoredFieldsReader.document(CompressingStoredFieldsReader.java:576)        at org.apache.lucene.codecs.compressing.CompressingStoredFieldsReader.visitDocument(CompressingStoredFieldsReader.java:583)        at org.apache.lucene.index.CodecReader.document(CodecReader.java:88)        at org.apache.lucene.index.FilterLeafReader.document(FilterLeafReader.java:411)        at org.apache.lucene.index.FilterLeafReader.document(FilterLeafReader.java:411)        at org.apache.lucene.index.BaseCompositeReader.document(BaseCompositeReader.java:118)        at org.apache.lucene.index.IndexReader.document(IndexReader.java:383)        at org.apache.lucene.document.LazyDocument.getDocument(LazyDocument.java:100)        ... 75 moreCaused by: java.nio.channels.ClosedChannelException        at sun.nio.ch.FileChannelImpl.ensureOpen(FileChannelImpl.java:110)        at sun.nio.ch.FileChannelImpl.read(FileChannelImpl.java:721)        at org.apache.lucene.store.NIOFSDirectory$NIOFSIndexInput.readInternal(NIOFSDirectory.java:179)        ... 88 more`

\
\
Wenn man keine Suche durchführt, scheint der Fehler nicht aufzutreten.
Ein Restart des Solr Core behebt das Problem wieder kurzzeitig bis zur
nächten Suche.

Statistik: Verfasst von
[webproject](http://forum.yacy-websuche.de/memberlist.php?mode=viewprofile&u=9684)
--- Do Aug 10, 2017 11:32 am

------------------------------------------------------------------------
